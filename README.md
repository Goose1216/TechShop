# TechShop
**TechShop** - это веб-приложение интернет-магазина по продаже техники, написанное на React и DRF, в котором реализована система авторизация через токены и сторонние сервисы,
поисковик реализован при помощи системы полнотекствого поиска OpenSearch, настроен планировщик задач Celery и всё это контейнеризривано при помощи Docker.
![image](https://github.com/user-attachments/assets/d19146de-2626-4d87-8d41-25d6aae3176e)

---
## ⚙️ Технологии и компоненты

- **Django REST Framemork** — фреймворк Python для написания REST-full серверой части приложения
- **React** - javascript библиотека для написания клиентской части приложения
- **Celery** - планировщик задач
- **Redis** - используется в качестве брокера сообщений для Celery
- **Oauth 2.0** - протокол авторизации, позволяющий в нашем приложении авторизовываться через сторонние сервисы
- **SMTP Yandex** - cервис яндекса, позволяющий делать email-рассылку на почту пользователям
- **Swagger** - автособираемя документация
- **OpenSearch** - система полнотекствого поиска и анализа данных
- **Docker** - ПО для контейнеризации проекта
- **Sqlite** - простая база данных
  
---

# Swagger
Для того чтоб быстро разобраться с проектом, была реализована документация при помощи drf-spectacular, описывающая работу всех endpoint-ов серверой части приложения
![image](https://github.com/user-attachments/assets/392ba2ce-b803-4f52-9e9d-78a3c4b49c1e)

---

# OpenSearch
**OpenSearch** - это система полнотекствого поиска и анализа данных, бесплатный аналог Elastic search, в приложении использутеся для корректной и быстрой работы поисковика,
в проекте настроена индексация моделей в базе данных OpenSearch, а также настроен анализатор русского языка для 
обработки морфологических ошибок при вводе пользователя, например, если вместо ввода в поисковик "смаРтфоны" пользователь написал "смаТфоны",
то наш сервер всеравно корректно обработает данный запрос (см. пример ниже)

![image](https://github.com/user-attachments/assets/42c76151-11b7-4c25-91b8-4cd11c2edda3)

---

# Celery
**Celery** - планировщик задач, в приложении использутеся для автоудаления из БД корзин пользователей, которые не обновлялись более недели.
Позволяет асинхронно выполнять эту задачу, не останавливая работу сервера, что очень важно для высоконагруженных систем, где количество корзин будет огромным,
а бесперебойная работа будет важным аспектом. Запуск задачи удаления происходит каждые сутки в 00:00, либо можно вручную запустить в любое время

---

# OAuth 2.0
**OAuth 2.0** - протокол авторизации, позволяющий залогиниться в одном приложении, беря данные из другого, например можно зайти на сайт по продаже техники, используя свои ФИО, номер телефона и логин из Яндекс ID.
В проекте реализован вход через Яндекс и Google при помощи django-allauth

---

# SMTP
**SMTP** - протокол передачи электронных писем, в приложении используется сервис SMTP Yandex для рассылки писем о сбросе пароля и верификации почты, вот пример письма, которое может придти на почту пользователю
![image](https://github.com/user-attachments/assets/e2b23891-6dbc-4d00-9f76-c2d377849cd9)

---
# Установка:

**Вариант 1**
1. Скопировать репозиторий к себе: git clone <repo_url>
2. Cоздайте виртуальное окружение python -m venv venv
3. Установить зависимости: pip install -r requirements.txt
4. Перейти в папку backend и запустить сервер: python manage.py runserver
5. Клиентская часть будет расположена по ссылке http://localhost:3000
   
   *Дополнительно*

7. Запустите Redis и Celery (если у вас windows то нужно использовать docker)
8. Установить OpenSearch с оффицального сайта: https://docs.opensearch.org/docs/latest/install-and-configure/install-opensearch/windows/
9. В архиве OpenSearch найдите скрипт OpenSearch.bat и запустите его
10. Или также запустите OpenSearch при помощи docker

**Вариант 2**
1. Скопировать репозиторий к себе: git clone <repo_url>
2. Соберите контейнеры приложений при помощи docker: docker-compose up --build
3. Клиентская часть будет расположена по ссылке http://localhost:3000
